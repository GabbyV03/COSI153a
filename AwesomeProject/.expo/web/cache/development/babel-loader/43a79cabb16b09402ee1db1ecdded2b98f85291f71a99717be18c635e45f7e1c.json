{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nimport React from \"react\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport Animated, { useAnimatedScrollHandler } from \"react-native-reanimated\";\nimport { NestableScrollContainerProvider, useSafeNestableScrollContainerContext } from \"../context/nestableScrollContainerContext\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\nvar AnimatedScrollView = Animated.createAnimatedComponent(ScrollView);\nfunction NestableScrollContainerInner(props) {\n  var _useSafeNestableScrol = useSafeNestableScrollContainerContext(),\n    outerScrollOffset = _useSafeNestableScrol.outerScrollOffset,\n    containerSize = _useSafeNestableScrol.containerSize,\n    scrollViewSize = _useSafeNestableScrol.scrollViewSize,\n    scrollableRef = _useSafeNestableScrol.scrollableRef,\n    outerScrollEnabled = _useSafeNestableScrol.outerScrollEnabled;\n  var onScroll = useAnimatedScrollHandler({\n    onScroll: function onScroll(_ref) {\n      var contentOffset = _ref.contentOffset;\n      outerScrollOffset.value = contentOffset.y;\n    }\n  });\n  var onLayout = useStableCallback(function (event) {\n    var layout = event.nativeEvent.layout;\n    containerSize.value = layout.height;\n  });\n  var onContentSizeChange = useStableCallback(function (w, h) {\n    var _props$onContentSizeC;\n    scrollViewSize.value = h;\n    (_props$onContentSizeC = props.onContentSizeChange) === null || _props$onContentSizeC === void 0 ? void 0 : _props$onContentSizeC.call(props, w, h);\n  });\n  return React.createElement(AnimatedScrollView, _extends({}, props, {\n    onLayout: onLayout,\n    onContentSizeChange: onContentSizeChange,\n    scrollEnabled: outerScrollEnabled,\n    ref: scrollableRef,\n    scrollEventThrottle: 1,\n    onScroll: onScroll\n  }));\n}\nexport var NestableScrollContainer = React.forwardRef(function (props, forwardedRef) {\n  return React.createElement(NestableScrollContainerProvider, {\n    forwardedRef: forwardedRef || undefined\n  }, React.createElement(NestableScrollContainerInner, props));\n});","map":{"version":3,"names":["React","ScrollView","Animated","useAnimatedScrollHandler","NestableScrollContainerProvider","useSafeNestableScrollContainerContext","useStableCallback","AnimatedScrollView","createAnimatedComponent","NestableScrollContainerInner","props","_useSafeNestableScrol","outerScrollOffset","containerSize","scrollViewSize","scrollableRef","outerScrollEnabled","onScroll","_ref","contentOffset","value","y","onLayout","event","layout","nativeEvent","height","onContentSizeChange","w","h","_props$onContentSizeC","call","createElement","_extends","scrollEnabled","ref","scrollEventThrottle","NestableScrollContainer","forwardRef","forwardedRef","undefined"],"sources":["/Users/gabriellavukomanovic/Desktop/Summer2023/AwesomeProject/node_modules/react-native-draggable-flatlist/lib/module/components/NestableScrollContainer.tsx"],"sourcesContent":["import React from \"react\";\nimport { LayoutChangeEvent, ScrollViewProps } from \"react-native\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport Animated, { useAnimatedScrollHandler } from \"react-native-reanimated\";\nimport {\n  NestableScrollContainerProvider,\n  useSafeNestableScrollContainerContext,\n} from \"../context/nestableScrollContainerContext\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\n\nconst AnimatedScrollView = Animated.createAnimatedComponent(ScrollView);\n\nfunction NestableScrollContainerInner(props: ScrollViewProps) {\n  const {\n    outerScrollOffset,\n    containerSize,\n    scrollViewSize,\n    scrollableRef,\n    outerScrollEnabled,\n  } = useSafeNestableScrollContainerContext();\n\n  const onScroll = useAnimatedScrollHandler({\n    onScroll: ({ contentOffset }) => {\n      outerScrollOffset.value = contentOffset.y;\n    },\n  });\n\n  const onLayout = useStableCallback((event: LayoutChangeEvent) => {\n    const {\n      nativeEvent: { layout },\n    } = event;\n    containerSize.value = layout.height;\n  });\n\n  const onContentSizeChange = useStableCallback((w: number, h: number) => {\n    scrollViewSize.value = h;\n    props.onContentSizeChange?.(w, h);\n  });\n\n  return (\n    <AnimatedScrollView\n      {...props}\n      onLayout={onLayout}\n      onContentSizeChange={onContentSizeChange}\n      scrollEnabled={outerScrollEnabled}\n      ref={scrollableRef}\n      scrollEventThrottle={1}\n      onScroll={onScroll}\n    />\n  );\n}\n\nexport const NestableScrollContainer = React.forwardRef(\n  (props: ScrollViewProps, forwardedRef?: React.ForwardedRef<ScrollView>) => {\n    return (\n      <NestableScrollContainerProvider\n        forwardedRef={\n          (forwardedRef as React.MutableRefObject<ScrollView>) || undefined\n        }\n      >\n        <NestableScrollContainerInner {...props} />\n      </NestableScrollContainerProvider>\n    );\n  }\n);\n"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,UAAT,QAA2B,8BAA3B;AACA,OAAOC,QAAP,IAAmBC,wBAAnB,QAAmD,yBAAnD;AACA,SACEC,+BADF,EAEEC,qCAFF;AAIA,SAASC,iBAAT;AAEA,IAAMC,kBAAkB,GAAGL,QAAQ,CAACM,uBAAT,CAAiCP,UAAjC,CAA3B;AAEA,SAASQ,4BAATA,CAAsCC,KAAtC,EAA8D;EAC5D,IAAAC,qBAAA,GAMIN,qCAAqC,EANzC;IACEO,iBADI,GAAAD,qBAAA,CACJC,iBADI;IAEJC,aAFI,GAAAF,qBAAA,CAEJE,aAFI;IAGJC,cAHI,GAAAH,qBAAA,CAGJG,cAHI;IAIJC,aAJI,GAAAJ,qBAAA,CAIJI,aAJI;IAKJC,kBAAA,GAAAL,qBAAA,CAAAK,kBAAA;EAGF,IAAMC,QAAQ,GAAGd,wBAAwB,CAAC;IACxCc,QAAQ,EAAE,SAAAA,SAAAC,IAAA,EAAuB;MAAA,IAApBC,aAAA,GAAoBD,IAAA,CAApBC,aAAA;MACXP,iBAAiB,CAACQ,KAAlB,GAA0BD,aAAa,CAACE,CAAxC;IACD;EAHuC,CAAD,CAAzC;EAMA,IAAMC,QAAQ,GAAGhB,iBAAiB,CAAE,UAAAiB,KAAD,EAA8B;IAC/D,IACiBC,MAAA,GACbD,KAFJ,CACEE,WAAW,CAAID,MAAA;IAEjBX,aAAa,CAACO,KAAd,GAAsBI,MAAM,CAACE,MAA7B;EACD,CALiC,CAAlC;EAOA,IAAMC,mBAAmB,GAAGrB,iBAAiB,CAAC,UAACsB,CAAD,EAAYC,CAAZ,EAA0B;IAAA,IAAAC,qBAAA;IACtEhB,cAAc,CAACM,KAAf,GAAuBS,CAAvB;IACA,CAAAC,qBAAA,GAAApB,KAAK,CAACiB,mBAAN,cAAAG,qBAAA,uBAAAA,qBAAA,CAAAC,IAAA,CAAArB,KAAK,EAAuBkB,CAAvB,EAA0BC,CAA1B,CAAL;EACD,CAH4C,CAA7C;EAKA,OACE7B,KAAA,CAAAgC,aAAA,CAACzB,kBAAD,EAAA0B,QAAA,KACMvB,KADN;IAEEY,QAAQ,EAAEA,QAFZ;IAGEK,mBAAmB,EAAEA,mBAHvB;IAIEO,aAAa,EAAElB,kBAJjB;IAKEmB,GAAG,EAAEpB,aALP;IAMEqB,mBAAmB,EAAE,CANvB;IAOEnB,QAAQ,EAAEA;EAPZ,GADF;AAWD;AAED,OAAO,IAAMoB,uBAAuB,GAAGrC,KAAK,CAACsC,UAAN,CACrC,UAAC5B,KAAD,EAAyB6B,YAAzB,EAA2E;EACzE,OACEvC,KAAA,CAAAgC,aAAA,CAAC5B,+BAAD;IACEmC,YAAY,EACTA,YAAD,IAAwDC;EAF5D,GAKExC,KAAA,CAAAgC,aAAA,CAACvB,4BAAD,EAAkCC,KAAlC,CALF,CADF;AASD,CAXoC,CAAhC"},"metadata":{},"sourceType":"module","externalDependencies":[]}